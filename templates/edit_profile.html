{% extends "base.html" %}

{% block title %}Edit your profile{% endblock %}

{% block topmenu %}
    <h1 class="logo"><a class="top-menu__home-link" href="/">Rustodon</a></h1>
    <nav class="top-menu">
        <ul>
            <li class="top-menu__user"><a class="top-menu__user-link" href="javascript:void 0" aria-haspopup="true"><svg class="icon"><use href="static/img/icons.min.svg#settings"/></svg>Menu</a>
                <ul class="top-menu__user-submenu">
                    <li class="top-menu__profile"><a class="top-menu__profile-link" href="{{account.profile_path()|safe}}"><svg class="icon"><use href="static/img/icons.min.svg#profile"/></svg>Profile</a>
                    <li class="top-menu__logout">
                        <form class="inline" method="post" action="/auth/sign_out">
                            <input type="hidden" name="stub" />
                            <button class="link" type="submit" name="submit"><svg class="icon"><use href="static/img/icons.min.svg#exit"/></svg>Sign&#160;out</button>
                        </form>
                    </li>
                    <li class="top-menu__settings">
                        <a href="" disabled><svg class="icon"><use href="static/img/icons.min.svg#settings"/></svg>Settings</a>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>    
{% endblock %}

{% block content %}
    <section class="edit-profile">
        <header>
            <h2 class="title">Edit your profile</h2>
        </header>
        <form method="post" action="/settings/profile">
            <div class="write-content-container">
                <textarea name="summary">
                {%- match account.summary -%}
                {%- when Some with (summary) -%}
                    {{summary}}
                {%- when None -%}
                {%- endmatch -%}
                </textarea>
            </div>
            <div class="button-row">
                <button class="button--post" type="submit">Update</button>
            </div>
        </form>
    </section>
{% endblock %}
